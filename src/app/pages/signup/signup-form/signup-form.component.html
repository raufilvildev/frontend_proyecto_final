<form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form-root">
    <div class="signup-form-group">
        <label for="firstName" class="signup-label">Nombre</label>
        <input
            type="text"
            id="firstName"
            formControlName="firstName"
            class="signup-input"
            [class.valid]="checkValidControl('firstName')"
            [class.invalid]="checkInvalidControl('firstName')"
        />
        @if (checkErrorControl("firstName","minlength")) {
        <p class="signup-error">Debe tener un mínimo de 2 carácteres</p>
        } @if (checkErrorControl("firstName","maxlength")) {
        <p class="signup-error">Supera el máximo de carácteres</p>
        }
    </div>

    <div class="signup-form-group">
        <label for="lastName" class="signup-label">Apellidos</label>
        <input
            type="text"
            id="lastName"
            formControlName="lastName"
            class="signup-input"
            [class.valid]="checkValidControl('lastName')"
            [class.invalid]="checkInvalidControl('lastName')"
        />
        @if (checkErrorControl("lastName","minlength")) {
        <p class="signup-error">Debe tener un mínimo de 2 carácteres</p>
        } @if (checkErrorControl("lastName","maxlength")) {
        <p class="signup-error">Supera el máximo de carácteres</p>
        }
    </div>

    <div class="signup-form-group">
        <label for="email" class="signup-label">Email</label>
        <input
            type="email"
            id="email"
            formControlName="email"
            class="signup-input"
            [class.valid]="checkValidControl('email')"
            [class.invalid]="checkInvalidControl('email')"
        />
        @if (checkErrorControl("email","pattern")) {
        <p class="signup-error">Debe ser un email válido</p>
        }
    </div>

    <div class="signup-form-group">
        <label for="birthDate" class="signup-label">Fecha de nacimiento</label>
        <input
            type="date"
            id="birthDate"
            formControlName="birthDate"
            class="signup-input"
            [class.valid]="checkValidControl('birthDate')"
            [class.invalid]="checkInvalidControl('birthDate')"
        />
    </div>

    <div class="signup-form-group">
        <label class="signup-label">Género</label>
        <div class="signup-radio-group">
            <label class="signup-radio-label">
                <input type="radio" formControlName="gender" value="M" class="signup-radio" />
                <span>Hombre</span>
            </label>
            <label class="signup-radio-label">
                <input type="radio" formControlName="gender" value="F" class="signup-radio" />
                <span>Mujer</span>
            </label>
        </div>
    </div>

    <div class="signup-form-group">
        <label for="username" class="signup-label">Nombre de usuario</label>
        <input
            type="text"
            id="username"
            formControlName="username"
            class="signup-input"
            [class.valid]="checkValidControl('username')"
            [class.invalid]="checkInvalidControl('username')"
        />
        @if (checkErrorControl("username","minlength")) {
        <p class="signup-error">Debe tener 3 carácteres</p>
        } @if (checkErrorControl("username","maxlength")) {
        <p class="signup-error">Supera el máximo de carácteres</p>
        } @if (checkErrorControl("username","pattern")) {
        <p class="signup-error">Debe contener solo números o letras</p>
        }
    </div>

    <div class="signup-form-group">
        <label for="password" class="signup-label">Contraseña</label>
        <input
            type="password"
            id="password"
            formControlName="password"
            class="signup-input"
            [class.valid]="checkValidControl('password')"
            [class.invalid]="checkInvalidControl('password')"
        />
        @if (checkErrorControl("password","pattern")) {
        <p class="signup-error">
            Al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial
        </p>
        }
    </div>

    <div class="signup-form-group">
        <label for="passwordRepeat" class="signup-label">Confirmación de contraseña</label>
        <input
            type="password"
            id="passwordRepeat"
            formControlName="passwordRepeat"
            class="signup-input"
            [class.valid]="checkValidControl('passwordRepeat')"
            [class.invalid]="checkInvalidControl('passwordRepeat')"
        />
        @if (signupForm.hasError('passwordNotMatch')) {
        <p class="signup-error">Las contraseñas no coinciden</p>
        }
    </div>
    @if (!signupForm.valid) {
    <p class="signup-help">Completa todos los campos para poder registrarte</p>
    } @if (signupForm.valid) {
    <p class="signup-success">✅</p>
    }

    <button type="submit" [disabled]="!signupForm.valid" class="signup-btn">Registrarse</button>
</form>
